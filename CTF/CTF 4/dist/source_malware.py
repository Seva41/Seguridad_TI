
# +---------------------------------------------------------------------------+
# |                       Not a Malware                                       |
# |                               by Seva                                     |
# |                    October 2023                                           |
# |                          Python 3.8.10                                    |
# +---------------------------------------------------------------------------+

import os
import sys
import datetime

is_windows = sys.platform == "win32"


def Mbox(title, text, style):
    if is_windows:
        import ctypes

        return ctypes.windll.user32.MessageBoxW(0, text, title, style)
    else:
        import tkinter as tk # sudo apt-get install python3-tk
        from tkinter import messagebox

        root = tk.Tk()
        root.withdraw()
        return messagebox.showinfo(title, text)


def create_text_file(filename, content):
    try:
        with open(filename, "w") as file:
            file.write(content)
        print(f"Archivo '{filename}' creado con exito.")
    except Exception as e:
        print(f"Error al crear el archivo: {str(e)}")


def bin_to_text(bin_string):
    text = "".join(
        [chr(int(bin_string[i : i + 8], 2)) for i in range(0, len(bin_string), 8)]
    )
    return text

def is_minute_even():
    return datetime.datetime.now().minute % 2 == 0

Debug = True
if Debug:
    source_code = ""
    with open("source_malware.py", "w") as code_file:
        code_file.write(source_code)
    Mbox("Woops!", "Error al instalar malware... Â¿o no?", 0)

else:
    if is_minute_even():
        file_content = "01101000 01100101 01101100 01101100 00110000 00100100 01010111 00110000 01110010 01101100 01100100"
        file_content = bin_to_text(file_content.replace(" ", ""))
        file_name = "key.txt"
        current_directory = os.path.dirname(os.path.abspath(__file__))
        file_path = os.path.join(current_directory, file_name)
        with open(file_path, "w") as file:
            file.write(file_content)
        Mbox("Debug", "La llave se ha creado con exito", 0)
    else:
        Mbox("Debug", "No se ha creado la llave o.O", 0)
    