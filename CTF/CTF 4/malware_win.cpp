#include <windows.h>

void mostrarNotificacion(const char *titulo, const char *mensaje)
{
    MessageBox(NULL, mensaje, titulo, MB_ICONINFORMATION);
}

int main()
{
    printf("¡Has sido infectado por un malware!\n");
    printf("Tu sistema ha sido comprometido.\n");
    printf("Encriptando tus archivos...\n");

    // Espera de 2 segundos
    Sleep(2000);

    printf("Solo bromeo, no te preocupes.\n");
    printf("No se ha hecho ningún daño real.\n");

    // Genera una contraseña
    const char *password = "MiContraseña123"; // Reemplaza esto con tu contraseña

    // Crea un archivo de texto con la contraseña en el mismo directorio
    FILE *archivo = fopen("contrasena.txt", "w");
    if (archivo != NULL)
    {
        fprintf(archivo, "Contraseña: %s\n", password);
        fclose(archivo);
        printf("Se ha creado un archivo 'contrasena.txt' con la contraseña.\n");
    }
    else
    {
        perror("Error al crear el archivo");
    }

    // Muestra una notificación emergente
    mostrarNotificacion("Malware", "Tu sistema ha sido comprometido.");

    return 0;
}
